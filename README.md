# LightDev

![Plugin Version](https://img.shields.io/badge/version-0.0.1-blue)
![IntelliJ Platform](https://img.shields.io/badge/IntelliJ%20Platform-2024.2.5-orange)
![License](https://img.shields.io/badge/license-Apache%202.0-blue)

ä¸€ä¸ªå¼ºå¤§çš„ IntelliJ IDEA æ’ä»¶ï¼Œä¸“ä¸ºæé«˜å¼€å‘æ•ˆç‡è€Œè®¾è®¡ã€‚LightDev æä¾›äº†æ™ºèƒ½çš„ä»£ç ç”ŸæˆåŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯åŸºäºæ•°æ®åº“è¡¨ç»“æ„çš„æ¨¡æ¿ä»£ç ç”Ÿæˆï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºé¡¹ç›®éª¨æ¶ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸš€ æ¨¡æ¿ä»£ç ç”Ÿæˆ
- **æ•°æ®åº“é©±åŠ¨**ï¼šåŸºäºæ•°æ®åº“è¡¨ç»“æ„è‡ªåŠ¨ç”Ÿæˆä»£ç 
- **å¤šæ¨¡æ¿æ”¯æŒ**ï¼šå†…ç½® Mybatis-Plus æ¨¡æ¿ï¼Œæ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿
- **æ™ºèƒ½æ˜ å°„**ï¼šè‡ªåŠ¨å¤„ç†æ•°æ®åº“ç±»å‹åˆ° Java ç±»å‹çš„æ˜ å°„
- **æ‰¹é‡ç”Ÿæˆ**ï¼šæ”¯æŒåŒæ—¶ä¸ºå¤šä¸ªè¡¨ç”Ÿæˆä»£ç 

### âš™ï¸ é…ç½®ç®¡ç†
- **å…¨å±€è®¾ç½®**ï¼šé…ç½®ä½œè€…ä¿¡æ¯ç­‰å…¨å±€å‚æ•°
- **ç±»å‹æ˜ å°„**ï¼šè‡ªå®šä¹‰æ•°æ®åº“ç±»å‹åˆ°ç¼–ç¨‹è¯­è¨€ç±»å‹çš„æ˜ å°„
- **æ¨¡æ¿ç®¡ç†**ï¼šæ”¯æŒæ·»åŠ ã€åˆ é™¤è‡ªå®šä¹‰æ¨¡æ¿ï¼ˆå†…ç½®æ¨¡æ¿å—ä¿æŠ¤ï¼‰
- **å†å²è®°å½•**ï¼šè®°å½•å¸¸ç”¨çš„æ¨¡æ¿å’Œé…ç½®é€‰æ‹©

### ğŸ› ï¸ é«˜çº§ç‰¹æ€§
- **æ¨¡æ¿åˆ é™¤åŠŸèƒ½**ï¼šæ”¯æŒåˆ é™¤å¤–éƒ¨æ¨¡æ¿ï¼Œå†…ç½®æ¨¡æ¿è‡ªåŠ¨ä¿æŠ¤
- **æ™ºèƒ½æç¤º**ï¼šåŸºäºå†å²ä½¿ç”¨è®°å½•çš„æ™ºèƒ½å»ºè®®
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢
- **å®æ—¶é¢„è§ˆ**ï¼šç”Ÿæˆå‰å¯é¢„è§ˆä»£ç ç»“æ„

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šä» JetBrains æ’ä»¶å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰
1. æ‰“å¼€ IntelliJ IDEA
2. è¿›å…¥ `File` â†’ `Settings` â†’ `Plugins`
3. æœç´¢ "LightDev"
4. ç‚¹å‡» `Install` å®‰è£…
5. é‡å¯ IDE

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…
1. ä¸‹è½½æœ€æ–°çš„æ’ä»¶åŒ…ï¼ˆ.zip æ–‡ä»¶ï¼‰
2. æ‰“å¼€ IntelliJ IDEA
3. è¿›å…¥ `File` â†’ `Settings` â†’ `Plugins`
4. ç‚¹å‡»é½¿è½®å›¾æ ‡ â†’ `Install Plugin from Disk...`
5. é€‰æ‹©ä¸‹è½½çš„æ’ä»¶åŒ…
6. é‡å¯ IDE

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®æ’ä»¶
1. æ‰“å¼€ `File` â†’ `Settings` â†’ `LightDev`
2. åœ¨ "å…¶ä»–è®¾ç½®" ä¸­é…ç½®ä½œè€…ä¿¡æ¯
3. åœ¨ "ç±»å‹æ˜ å°„è®¾ç½®" ä¸­æ ¹æ®éœ€è¦è°ƒæ•´ç±»å‹æ˜ å°„

### 2. ç”Ÿæˆä»£ç 
1. åœ¨æ•°æ®åº“å·¥å…·çª—å£ä¸­é€‰æ‹©æ•°æ®åº“è¡¨
2. å³é”®ç‚¹å‡»è¡¨å
3. é€‰æ‹© "ç”Ÿæˆä»£ç ï¼ˆLï¼‰"
4. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼š
   - é€‰æ‹©æ¨¡æ¿ç»„ï¼ˆå¦‚ Mybatis-Plusï¼‰
   - é…ç½®åŒ…åå’Œè¾“å‡ºè·¯å¾„
   - é€‰æ‹©è¦ç”Ÿæˆçš„ä»£ç ç±»å‹
   - ç‚¹å‡» "ç”Ÿæˆ" æŒ‰é’®

## ğŸ“ æ¨¡æ¿è¯­æ³•ç¤ºä¾‹

ç¼–å†™æ¨¡æ¿æ‰€éœ€çš„ä¸€äº›å˜é‡å’Œä½¿ç”¨æ–¹æ³•

### å˜é‡è¯´æ˜

#### 1.1 NameUtil

æä¾›æ–¹æ³•:

- toCamelCase()  é¦–å­—æ¯å°å†™ï¼Œåç»­æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™
- toPascalCase()  æ¯ä¸ªå•è¯çš„é¦–å­—æ¯éƒ½å¤§å†™
- toSnakeCase()  æ‰€æœ‰å­—æ¯å°å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿è¿æ¥
- toKebabCase()  æ‰€æœ‰å­—æ¯å°å†™ï¼Œå•è¯ä¹‹é—´ç”¨è¿å­—ç¬¦è¿æ¥
- toScreamingSnakeCase()  æ‰€æœ‰å­—æ¯å¤§å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿è¿æ¥

ä½¿ç”¨æ–¹å¼

```bash
# ftlæ¨¡æ¿
<#assign PascalTableName=NameUtil.toPascalCase(table.getRawName())>
<#assign SnakeCaseName=NameUtil.toSnakeCase(table.getRawName())>

class ${PascalTableName}Controller
```

#### 1.2 namespace

å½“å‰é€‰æ‹©çš„çš„ä»£ç åŒ…

````bash
package ${namespace}.services
````

#### 1.3 table

è¿™æ˜¯è¡¨çš„ç›¸å…³ä¿¡æ¯å˜é‡

| æ–¹æ³•                | æè¿°         | ç¤ºä¾‹                                                         |
| ------------------- | ------------ | ------------------------------------------------------------ |
| getRawName()        | è¡¨å         | table.getRawName()                                           |
| getRawComment()     | è¡¨æè¿°       | table.getRawComment()                                        |
| getRawStatement()   | å»ºè¡¨è¯­å¥     | table.getRawStatement()                                      |
| getPrimaryColumns() | ç´¢å¼•å­—æ®µåˆ—è¡¨ | table.getPrimaryColumns()?first \|\|  ${myList?first!"é»˜è®¤å€¼"} \|\| ${list[0]}   \|\| <#if list?has_content> |

#### 1.4 columns

æ¥æºäºtable ,æ˜¯ä¸€ä¸ªlist

ä½¿ç”¨éå†:

```bash
<#list columns as column>
    val ${NameUtil.toCamelCase(column.getRawName())}: ${column.getMapperType()}? = null, // ${column.getRawComment()}
</#list>
```

å•ä¸ªcolumnçš„å±æ€§å¦‚ä¸‹

| æ–¹æ³•                 | æè¿°             | ç¤ºä¾‹                                          |
| -------------------- | ---------------- | --------------------------------------------- |
| getMapperType()      | javaçš„ç±»å‹       | column.getMapperType() // ç»“æœ: string        |
| getRawType()         | æ•°æ®åº“å­—æ®µç±»å‹   | column.getRawType()    // ç»“æœï¼švarchar(32)   |
| getRawName()         | æ•°æ®åº“å­—æ®µå     | column.getRawName()   // ç»“æœ: id ã€user_name |
| getRawComment()      | æ•°æ®åº“å­—æ®µæè¿°   | column.getRawComment()                        |
| getRawDefaultValue() | æ•°æ®åº“å­—æ®µé»˜è®¤å€¼ | column.getRawDefaultValue()                   |
| hasPrimaryKey()      | æ˜¯å¦æ˜¯ä¸»é”®       | <#if column.hasPrimaryKey()>                  |
| hasForeignKey()      | æ˜¯å¦æœ‰å¤–é”®       | <#if column.hasForeignKey()>                  |
| hasIndex()           | æ˜¯å¦æœ‰ç´¢å¼•       | <#if column.hasIndex()>                       |



#### 1.5 æ–‡ä»¶åç§°

ç”Ÿæˆçš„æ–‡ä»¶åç§°éœ€è¦åœ¨æ¨¡æ¿ä¸­å®šä¹‰æ ¼å¼

ä»¥`#region config`å¼€å§‹å’Œ`#endregion`ç»“æŸçš„åŒºåŸŸï¼Œå‚è€ƒä¸‹é¢çš„å®šä¹‰æ–¹å¼

> region config çš„é…ç½®éœ€è¦æ”¾åœ¨ä»£ç å¼€å¤´ï¼Œåˆ‡å‹¿æ”¾åœ¨ä»£ç ä¸­

```bash
<#assign PascalTableName=NameUtil.toPascalCase(table.getRawName())>
<#assign CamelTableName=NameUtil.toCamelCase(table.getRawName())>

#region config
fileName=${PascalTableName}.java
#endregion

package ${namespace}.model.entity;

import io.swagger.annotations.ApiModel;
import io.swagger.annotations.ApiModelProperty;
import java.io.Serializable;
import java.util.Date;
import lombok.Data;
```



#### 1.6 å…¶ä»–å˜é‡

| å˜é‡å   | ä½¿ç”¨        | å¤‡æ³¨                             |
| -------- | ----------- | -------------------------------- |
| author   | ${author}   | ä½œè€…ä¿¡æ¯ï¼Œåœ¨è®¾ç½®ä¸­è‡ªå®šä¹‰ä½œè€…åç§° |
| date     | ${date}     | å½“å‰æ—¶é—´ï¼ˆyyyy-MM-ddï¼‰           |
| dateTime | ${dateTime} | å½“å‰æ—¶é—´ï¼ˆyyyy-MM-dd HH:mm:ssï¼‰  |



## ğŸ¯ æ”¯æŒçš„æ•°æ®åº“

- MySQL
- PostgreSQL
- Oracle
- SQL Server
- SQLite
- H2
- å…¶ä»– JDBC å…¼å®¹æ•°æ®åº“

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **IntelliJ IDEA**: 2024.2+ (Ultimate Edition æ¨è)
- **Java**: JDK 21+
- **æ•°æ®åº“æ’ä»¶**: éœ€è¦å¯ç”¨ IntelliJ çš„ Database æ’ä»¶

## ğŸ“š ä½¿ç”¨æŠ€å·§

### æ¨¡æ¿ç®¡ç†
- å†…ç½®æ¨¡æ¿ä¸å¯åˆ é™¤ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§
- å¤–éƒ¨æ¨¡æ¿å¯ä»¥é€šè¿‡ç•Œé¢åˆ é™¤æŒ‰é’®ç§»é™¤
- æ”¯æŒæ¨¡æ¿å†å²è®°å½•ï¼Œæ–¹ä¾¿å¿«é€Ÿé€‰æ‹©å¸¸ç”¨æ¨¡æ¿

### ç±»å‹æ˜ å°„
- å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è‡ªå®šä¹‰æ•°æ®åº“ç±»å‹æ˜ å°„
- æ”¯æŒå¯¼å…¥/å¯¼å‡ºæ˜ å°„é…ç½®ï¼Œä¾¿äºå›¢é˜Ÿå…±äº«



## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/W-Lightr/LightDev)
- [é—®é¢˜åé¦ˆ](https://github.com/W-Lightr/LightDev/issues)
- [æ›´æ–°æ—¥å¿—](CHANGELOG.md)

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Lightr** - [GitHub](https://github.com/W-Lightr)

---

å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Star æ”¯æŒä¸€ä¸‹ï¼